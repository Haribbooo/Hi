<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
<meta charset="UTF-8">
<title>Write</title>
<link rel="stylesheet" th:href="@{/css/user/diarywriter.css}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
   <div id="container" style="height: 1000px;">
      <div th:replace="~{header}"></div>
      <div id="container2">
         <section id="writeform">
            <div sec:authorize="isAuthenticated()">
               <h2>
                  <span sec:authentication="principal.users.unickname"></span>의 My
                  Health Diary
               </h2>
            </div>
            <form th:action="@{|/user/diarywrite/${uno}|}" method="post" enctype="multipart/form-data">
               <div id="title">
                  <input type="text" name="dtitle" placeholder="글 제목">
               </div>
               <div id="content">
                  <textarea rows="5" cols="50" name="dcontent"
                     placeholder="내용을 입력해주세요"></textarea>
               </div>
               
               <div class="filebox">
                  <input class="upload-name" value="첨부파일" placeholder="첨부파일"
                     readonly> <label for="diaryFile" class="file_btn">
                     파일 찾기</label> <input type="file" id="diaryFile" name="boardFile">
               </div>
               <div id="btn-box">
                  <input type="submit" value="등록" id="save_btn1">
                  <a th:href="@{|/user/userdiary/${uno}|}">
                     <button type="button" id="save_btn2">취소</button>
                  </a>
               </div>
            </form>
         </section>
      </div>
      <div th:replace="~{footer}"></div>
   </div>

   <!-- 파일명 들어가기 -->
<script>
   $("#diaryFile").on('change', function() {
      var fileName = $("#diaryFile").val();
      $(".upload-name").val(fileName);
   });
</script>
</body>
</html>